 <!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />

  <title>Tilpasninger ved behov – beinpress</title>

  <style>
    :root{
      --myss_blue_dark:#0c2d48;
      --myss_blue:#2f7fbf;
      --bg:#f6f9fc;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --shadow: 0 10px 25px rgba(2, 6, 23, 0.08);
      --radius: 18px;

      --orange_rgb: 242 140 40;
      --focus: rgba(47,127,191,.35);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 500px at 20% -10%, rgba(47,127,191,0.18), transparent 55%),
        var(--bg);
      color:var(--text);
    }

    button{ font: inherit; min-height:44px; }

    .wrap{
      max-width: 860px;
      margin: 0 auto;
      padding: 18px 14px 28px;
    }

    .card{
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      border: 1px solid rgba(15, 23, 42, 0.06);
    }

    h1{
      margin: 0 0 8px;
      font-size: clamp(1.4rem, 4vw, 2rem);
      line-height: 1.2;
      color: var(--myss_blue_dark);
      letter-spacing: -0.02em;
    }

    .ingress{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 1rem;
      line-height: 1.45;
    }

    .closing{
      margin-top: 18px;
      color: var(--muted);
      line-height: 1.5;
    }

    .adapt{ margin-top:14px; }

    .adapt__panel{
      margin-top:12px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }

    .adapt__lead{ margin:0 0 12px; color: var(--muted); }

    .adapt__controls{
      display:flex;
      gap:10px;
      justify-content:flex-start;
      flex-wrap:wrap;
      margin: 10px 0 6px;
    }

    .adapt__chip{
      border:1px solid rgba(15,23,42,.12);
      background:#fff;
      border-radius:999px;
      padding:8px 12px;
      font-weight:800;
      cursor:pointer;
      color: var(--myss_blue_dark);
    }

    .adapt__chip--ghost{
      background:transparent;
      color: var(--muted);
    }

    .adapt__chip:focus-visible,
    .adapt__option:focus-visible,
    .side-selected__change:focus-visible,
    .bodymap__btn:focus-visible{
      outline:3px solid var(--focus);
      outline-offset:3px;
    }

    .adapt__status{
      margin: 12px 0 8px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(var(--orange_rgb), .14);
      border: 1px solid rgba(var(--orange_rgb), .25);
      color: var(--myss_blue_dark);
      font-weight: 900;
    }

    .adapt__toast{
      margin: 10px 0 0;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(148,163,184,.18);
      border: 1px solid rgba(148,163,184,.35);
      color: var(--myss_blue_dark);
      font-weight: 800;
      text-align:center;
    }

    .adapt__h3{ margin:14px 0 8px; color: var(--myss_blue_dark); font-size:1rem; }

    .adapt__grid{
      display:grid;
      gap:10px;
    }

    .adapt__option{
      text-align:left;
      border:1px solid rgba(15,23,42,.12);
      border-radius:14px;
      padding:12px;
      background:#fff;
      cursor:pointer;
    }

    .adapt__option:hover{ border-color: rgba(47,127,191,.35); }

    .adapt__option[aria-pressed="true"]{
      border-color: rgba(47,127,191,.75);
      box-shadow: inset 0 0 0 1px rgba(47,127,191,.45);
      background: rgba(47,127,191,.08);
    }

    .adapt__t{ display:block; font-weight:900; color: var(--myss_blue_dark); }
    .adapt__d{ display:block; margin-top:3px; color: var(--muted); font-size:.95rem; }

    .adapt__option--neutral{ background: rgba(var(--orange_rgb), .08); }

    .adapt__privacy{ margin:14px 0 0; color: var(--muted); font-size:.9rem; }

    .side-selected{
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(var(--orange_rgb), .35);
      background: rgba(var(--orange_rgb), .10);
    }

    .side-selected__text{
      margin: 0 0 10px;
      font-weight: 900;
      color: var(--myss_blue_dark);
    }

    .side-selected__figure{
      max-width: 420px;
      margin: 0 auto;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    .side-selected__figure img{
      width:100%;
      height:auto;
      display:block;
    }

    .side-selected__change{
      margin-top: 10px;
      border: 1px solid rgba(15,23,42,.12);
      background: #fff;
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 900;
      cursor: pointer;
      color: var(--myss_blue_dark);
    }

    .adapt__tips{ margin-top: 14px; display:grid; gap:10px; }
    .tip{ border:1px solid rgba(15,23,42,.1); border-radius:14px; padding:12px; background:#fff; }
    .tip h3{ margin: 0 0 8px; color: var(--myss_blue_dark); }
    .tip ul{ margin: 0; padding-left: 18px; line-height: 1.5; }
    .tip[hidden]{ display:none; }

    .tip--ping{ animation: tipPing 2600ms ease; }

    @keyframes tipPing{
      0%   { background: rgba(var(--orange_rgb), .00); box-shadow: 0 0 0 0 rgba(var(--orange_rgb), .00); }
      10%  { background: rgba(var(--orange_rgb), .28); box-shadow: 0 0 0 8px rgba(var(--orange_rgb), .22); }
      70%  { background: rgba(var(--orange_rgb), .22); box-shadow: 0 0 0 8px rgba(var(--orange_rgb), .16); }
      100% { background: rgba(var(--orange_rgb), .00); box-shadow: 0 0 0 0 rgba(var(--orange_rgb), .00); }
    }

    .bodymap{
      max-width: 560px;
      margin: 10px auto 0;
    }

    .bodymap__btn{
      display:block;
      width:100%;
      border:0;
      padding:0;
      background:transparent;
      cursor:pointer;
      border-radius:18px;
      box-shadow: var(--shadow);
    }

    .bodymap__img{
      width:100%;
      height:auto;
      display:block;
      border-radius:18px;
    }

    .adapt__smallhint{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: .95rem;
      text-align: center;
    }

    @media (min-width: 720px){
      .adapt__grid{ grid-template-columns: 1fr 1fr; }
      .adapt__option--neutral{ grid-column: 1 / -1; }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      .tip--ping{ animation:none; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <section class="card">
      <h1>Tilpasninger ved behov – beinpress</h1>
      <p class="ingress">
        Dette er generelle råd for små justeringer i beinpress. Bruk dem som en rolig sjekkliste og velg det som kjennes trygt og gjennomførbart.
      </p>

      <section class="adapt" aria-labelledby="adaptTitle">
        <div id="adaptPanel" class="adapt__panel">
          <h2 id="adaptTitle">Tilpasset veiledning</h2>
          <p class="adapt__lead">Velg det som passer best. Valget brukes bare til å vise relevant veiledning nå.</p>

          <div class="adapt__controls" role="group" aria-label="Filterkontroller">
            <button id="adaptShowAll" class="adapt__chip" type="button">Vis alt</button>
            <button id="adaptReset" class="adapt__chip adapt__chip--ghost" type="button">Nullstill</button>
          </div>

          <p id="adaptStatus" class="adapt__status" aria-live="polite">Vis alle tips</p>
          <p id="adaptToast" class="adapt__toast" hidden role="status" aria-live="polite"></p>

          <section id="step1" class="adapt__group" aria-label="Sidevalg">
            <h3 class="adapt__h3">Hvilken side påvirkes mest</h3>

            <div id="sideChoices" class="adapt__grid" role="group">
              <button class="adapt__option" type="button" data-side="right" aria-pressed="false">
                <span class="adapt__t">Mest på høyre side</span>
                <span class="adapt__d">Vi viser tips for høyre side</span>
              </button>

              <button class="adapt__option" type="button" data-side="left" aria-pressed="false">
                <span class="adapt__t">Mest på venstre side</span>
                <span class="adapt__d">Vi viser tips for venstre side</span>
              </button>

              <button class="adapt__option adapt__option--neutral" type="button" data-side="general" aria-pressed="false">
                <span class="adapt__t">Usikker</span>
                <span class="adapt__d">Vis generell tilrettelegging</span>
              </button>
            </div>

            <div id="sideSelected" class="side-selected" hidden aria-live="polite">
              <p id="sideSelectedText" class="side-selected__text"></p>

              <div class="side-selected__figure">
                <img id="sideSelectedImg" src="/assets/img/unilateral.jpg" alt="Unilateral figur" loading="lazy" />
              </div>

              <button id="changeSide" class="side-selected__change" type="button">Velg på nytt</button>
            </div>
          </section>

          <section id="step2" class="adapt__group" hidden aria-label="Kroppsområde">
            <h3 class="adapt__h3">Hva er mest utfordrende</h3>

            <div class="bodymap" aria-label="Trykk på området i figuren for å få relevante tips">
              <button id="bodymapBtn" class="bodymap__btn" type="button" aria-label="Velg område i figuren">
                <img id="bodymapImg" class="bodymap__img" src="/assets/img/Beinpress_figur.jpg" alt="Figur for valg av område" loading="lazy" />
              </button>
              <p class="adapt__smallhint">Trykk på et område i figuren. Du blir sendt til riktig tips.</p>
            </div>
          </section>

          <p class="adapt__privacy">
            Valget brukes bare til å tilpasse veiledningen nå. Det lagres ikke som helseopplysninger.
          </p>
        </div>

        <section id="tipsContainer" class="adapt__tips" aria-live="polite">
          <article class="tip" data-side="general" data-area="general">
            <h3>Trygg og enkel start</h3>
            <ul>
              <li>Start med lett belastning og kort bevegelse.</li>
              <li>Hold rolig tempo og stopp før det blir utrygt.</li>
            </ul>
          </article>

          <article class="tip" data-side="right" data-area="general">
            <h3>Når høyre side jobber mindre</h3>
            <ul>
              <li>Reduser belastning og jobb med kontrollert tempo.</li>
              <li>Plasser foten likt og bruk pause i bunn.</li>
            </ul>
          </article>

          <article class="tip" data-side="left" data-area="general">
            <h3>Når venstre side jobber mindre</h3>
            <ul>
              <li>Samme prinsipp: lavere belastning, mer kontroll.</li>
              <li>Hold knær i samme retning gjennom hele presset.</li>
            </ul>
          </article>

          <article id="tip-foot" class="tip" data-side="general" data-area="foot">
            <h3>Ved utfordringer i fot</h3>
            <ul>
              <li>Flytt fotplassering litt opp eller ned for bedre støtte.</li>
              <li>Sikre jevnt trykk gjennom hele foten.</li>
            </ul>
          </article>

          <article id="tip-knee" class="tip" data-side="general" data-area="knee">
            <h3>Ved utfordringer i kne</h3>
            <ul>
              <li>La knær følge samme retning som tær gjennom presset.</li>
              <li>Reduser dybden hvis det gir bedre kontroll.</li>
            </ul>
          </article>

          <article id="tip-hip" class="tip" data-side="general" data-area="hip">
            <h3>Ved utfordringer i hofte og sete</h3>
            <ul>
              <li>Juster sete slik at rygg og sete har stabil kontakt.</li>
              <li>Bruk rolig tempo og jevn kraft uten raske stopp.</li>
            </ul>
          </article>

          <article id="tip-head" class="tip" data-side="general" data-area="head">
            <h3>Fokus og kontroll når det blir mye å holde styr på</h3>
            <ul>
              <li>Bruk få, faste steg: sete, fot, pust, press.</li>
              <li>Ta pause mellom repetisjonene og senk tempo.</li>
              <li>Bruk en kort huskeregel på skjermen.</li>
            </ul>
          </article>

          <article id="tip-grip" class="tip" data-side="general" data-area="grip">
            <h3>Grep når håndkontroll er utfordrende</h3>
            <ul>
              <li>Bruk håndtak eller støttepunkt hvis maskinen har det.</li>
              <li>Prioriter stabil posisjon før belastning.</li>
              <li>Vurder stropper eller tilpasset grep ved behov.</li>
            </ul>
          </article>
        </section>
      </section>

      <p class="closing">
        Hvis du er usikker på hva som passer for deg, kan du spørre en fagperson på senteret om hjelp til tilpasning.
      </p>
    </section>
  </main>

  <script>
  (function(){
    const status = document.getElementById('adaptStatus');
    const toast = document.getElementById('adaptToast');

    const sideChoices = document.getElementById('sideChoices');
    const sideSelected = document.getElementById('sideSelected');
    const sideSelectedText = document.getElementById('sideSelectedText');
    const changeSide = document.getElementById('changeSide');

    const step2 = document.getElementById('step2');

    const showAllBtn = document.getElementById('adaptShowAll');
    const resetBtn = document.getElementById('adaptReset');

    const bodymapBtn = document.getElementById('bodymapBtn');
    const bodymapImg = document.getElementById('bodymapImg');

    const tipsContainer = document.getElementById('tipsContainer');
    const tips = Array.from(document.querySelectorAll('.tip'));
    const sideButtons = sideChoices ? Array.from(sideChoices.querySelectorAll('button[data-side]')) : [];

    const originalOrder = tips.slice();

    let selectedSide = null;
    let selectedArea = null;
    let sideTimer = null;
    let toastTimer = null;

    const points = [
      { key:'head', x:0.50, y:0.13, target:'#tip-head', label:'Fokus og kontroll' },
      { key:'grip', x:0.18, y:0.55, target:'#tip-grip', label:'Grep' },
      { key:'hip',  x:0.69, y:0.60, target:'#tip-hip',  label:'Hofte og sete' },
      { key:'knee', x:0.72, y:0.76, target:'#tip-knee', label:'Kne' },
      { key:'foot', x:0.50, y:0.94, target:'#tip-foot', label:'Fot' }
    ];

    function setStatus(text){
      if (status) status.textContent = text;
    }

    function showToast(msg){
      if (!toast) return;
      toast.textContent = msg;
      toast.hidden = false;
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => { toast.hidden = true; }, 2200);
    }

    function ping(el){
      el.classList.remove('tip--ping');
      void el.offsetWidth;
      el.classList.add('tip--ping');
      setTimeout(() => el.classList.remove('tip--ping'), 2600);
    }

    function scrollToEl(el){
      if (!el) return;
      el.scrollIntoView({ behavior:'smooth', block:'start' });
    }

    function scrollToSel(sel){
      const el = document.querySelector(sel);
      if (!el) return;
      el.scrollIntoView({ behavior:'smooth', block:'start' });
      ping(el);
    }

    function nearestPoint(nx, ny){
      let best = points[0];
      let bestD = Infinity;
      for (const p of points){
        const dx = nx - p.x;
        const dy = ny - p.y;
        const d = dx*dx + dy*dy;
        if (d < bestD){ bestD = d; best = p; }
      }
      return best;
    }

    function sideLabel(v){
      if (v === 'right') return 'Mest på høyre side';
      if (v === 'left') return 'Mest på venstre side';
      return 'Usikker';
    }

    function statusText(){
      if (!selectedSide) return 'Vis alle tips';
      if (!selectedArea) return 'Valgt: ' + sideLabel(selectedSide) + '. Vent litt, så kommer figur 2';
      const p = points.find(x => x.key === selectedArea);
      return 'Valgt: ' + sideLabel(selectedSide) + '. Område: ' + (p ? p.label : selectedArea);
    }

    function setPressed(list, matchFn){
      list.forEach(btn => {
        const on = matchFn(btn);
        btn.setAttribute('aria-pressed', on ? 'true' : 'false');
      });
    }

    function restoreTipOrder(){
      if (!tipsContainer) return;
      originalOrder.forEach(el => tipsContainer.appendChild(el));
    }

    function moveTipToTop(el){
      if (!tipsContainer || !el) return;
      tipsContainer.insertBefore(el, tipsContainer.firstElementChild);
    }

    function reorderTips(){
      restoreTipOrder();

      if (selectedSide){
        const sideTip = tipsContainer.querySelector('.tip[data-side="' + selectedSide + '"][data-area="general"]');
        moveTipToTop(sideTip);
      }

      if (selectedArea){
        const areaTip = document.getElementById('tip-' + selectedArea) || tipsContainer.querySelector('.tip[data-area="' + selectedArea + '"]');
        moveTipToTop(areaTip);
      }
    }

    function applyFilter(){
      tips.forEach(t => {
        const tSide = t.getAttribute('data-side') || 'general';
        const tArea = t.getAttribute('data-area') || 'general';

        const sideOk = !selectedSide || tSide === selectedSide || tSide === 'general';
        const areaOk = !selectedArea || tArea === selectedArea || tArea === 'general';

        t.hidden = !(sideOk && areaOk);
      });
    }

    function clearSideTimer(){
      if (!sideTimer) return;
      clearTimeout(sideTimer);
      sideTimer = null;
    }

    function showStep2(){
      if (step2) step2.hidden = false;
      setStatus(selectedArea ? statusText() : 'Valgt: ' + sideLabel(selectedSide) + '. Velg område i figur 2');
      scrollToEl(step2);
    }

    function selectSide(v){
      clearSideTimer();

      selectedSide = v;
      selectedArea = null;

      setPressed(sideButtons, (b) => b.getAttribute('data-side') === v);

      if (toast) toast.hidden = true;

      if (sideChoices) sideChoices.hidden = true;

      if (sideSelected){
        sideSelected.hidden = false;
        if (sideSelectedText) sideSelectedText.textContent = 'Valgt: ' + sideLabel(v);
      }

      if (step2) step2.hidden = true;

      reorderTips();
      applyFilter();

      setStatus(statusText());

      scrollToEl(sideSelected);

      sideTimer = setTimeout(showStep2, 5000);
    }

    function selectAreaByPoint(p){
      selectedArea = p.key;

      reorderTips();
      applyFilter();

      setStatus(statusText());
      scrollToSel(p.target);
    }

    function resetAll(){
      clearSideTimer();

      selectedSide = null;
      selectedArea = null;

      setPressed(sideButtons, () => false);

      if (toast) toast.hidden = true;
      if (sideSelected) sideSelected.hidden = true;
      if (sideChoices) sideChoices.hidden = false;
      if (step2) step2.hidden = true;

      restoreTipOrder();
      tips.forEach(t => t.hidden = false);

      setStatus('Vis alle tips');

      if (sideChoices) scrollToEl(sideChoices);
    }

    if (sideChoices){
      sideChoices.addEventListener('click', (e) => {
        const btn = e.target.closest('button[data-side]');
        if (!btn) return;
        selectSide(btn.getAttribute('data-side'));
      });
    }

    if (changeSide){
      changeSide.addEventListener('click', resetAll);
    }

    if (resetBtn){
      resetBtn.addEventListener('click', resetAll);
    }

    if (showAllBtn){
      showAllBtn.addEventListener('click', () => {
        selectedArea = null;
        reorderTips();
        applyFilter();
        setStatus(selectedSide ? ('Valgt: ' + sideLabel(selectedSide) + '. Velg område i figur 2') : 'Vis alle tips');
      });
    }

    if (bodymapBtn && bodymapImg){
      bodymapBtn.addEventListener('click', (e) => {
        if (!selectedSide){
          showToast('Velg side først');
          return;
        }

        const rect = bodymapImg.getBoundingClientRect();
        const nx = (e.clientX - rect.left) / rect.width;
        const ny = (e.clientY - rect.top) / rect.height;
        if (nx < 0 || nx > 1 || ny < 0 || ny > 1) return;

        const p = nearestPoint(nx, ny);
        selectAreaByPoint(p);
      });
    }
  })();
  </script>
</body>
</html>
